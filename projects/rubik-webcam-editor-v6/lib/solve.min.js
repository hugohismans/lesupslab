/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /gh/ldez/cubejs@master/lib/solve.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){var t,r,i,e,n,o,s,u,l,h,f,a,p,v,c,F,R,U,m,D,g,B,L,b,y,T,d,M,w,P,x,j,q,C,O,S,k,z,A,E,G,H,I,J,K,N,Q,V,W,X,Y,Z,$=[].indexOf;for(A in n=this.Cube||require("./cube"),[L,B,c,o,m,t]=[0,1,2,3,4,5],[x,d,w,y,h,a,u,v]=[0,1,2,3,4,5,6,7],[P,T,M,b,p,l,f,s,R,F,r,i]=[0,1,2,3,4,5,6,7,8,9,10,11],e=function(t,r){var i,e,n;if(t<r)return 0;for(r>t/2&&(r=t-r),n=1,i=t,e=1;i!==t-r;)n*=i,n/=e,i--,e++;return n},z=function(t){var r,i,e,n;for(r=1,i=e=2,n=t;2<=n?e<=n:e>=n;i=2<=n?++e:--e)r*=i;return r},E=function(t,r){return t>r?t:r},V=function(t,r,i){var e,n,o,s,u;for(u=t[r],e=n=o=r,s=i-1;o<=s?n<=s:n>=s;e=o<=s?++n:--n)t[e]=t[e+1];return t[i]=u},W=function(t,r,i){var e,n,o,s,u;for(u=t[i],e=n=o=i,s=r+1;o<=s?n<=s:n>=s;e=o<=s?++n:--n)t[e]=t[e-1];return t[r]=u},K=function(t,r,i,n=!1){var o,s,u,l,h,f;return u=z((l=i-r)+1),"corners"===t?(s=7,f="cp"):(s=11,f="ep"),h=function(){var t,r,i;for(i=[],o=t=0,r=l;0<=r?t<=r:t>=r;o=0<=r?++t:--t)i.push(0);return i}(),function(t){var a,p,v,c,F,R,U,m,D,g,B,L,b,y,T,d,M,w,P,x,j,q,C,O,S,k,z;if(null!=t){for(o=R=0,B=l;0<=B?R<=B:R>=B;o=0<=B?++R:--R)h[o]=o+r;for(p=t%u,a=t/u|0,D=this[f],o=U=0,L=s;0<=L?U<=L:U>=L;o=0<=L?++U:--U)D[o]=-1;for(c=m=1,y=l;1<=y?m<=y:m>=y;c=1<=y?++m:--m)for(F=p%(c+1),p=p/(c+1)|0;F>0;)W(h,0,c),F--;if(S=l,n)for(c=g=0,T=s;0<=T?g<=T:g>=T;c=0<=T?++g:--g)a-(v=e(s-c,S+1))>=0&&(D[c]=h[l-S],a-=v,S--);else for(c=q=d=s;d<=0?q<=0:q>=0;c=d<=0?++q:--q)a-(v=e(c,S+1))>=0&&(D[c]=h[S],a-=v,S--);return this}for(D=this[f],o=C=0,M=l;0<=M?C<=M:C>=M;o=0<=M?++C:--C)h[o]=-1;if(a=p=S=0,n)for(c=O=w=s;w<=0?O<=0:O>=0;c=w<=0?++O:--O)r<=(P=D[c])&&P<=i&&(a+=e(s-c,S+1),h[l-S]=D[c],S++);else for(c=k=0,x=s;0<=x?k<=x:k>=x;c=0<=x?++k:--k)r<=(j=D[c])&&j<=i&&(a+=e(c,S+1),h[S]=D[c],S++);for(c=z=b=l;b<=0?z<=0:z>=0;c=b<=0?++z:--z){for(F=0;h[c]!==r+c;)V(h,0,c),F++;p=(c+1)*p+F}return a*u+p}},U={twist:function(t){var r,i,e,n,o,s;if(null!=t){for(o=0,r=i=6;i>=0;r=--i)n=t%3,t=t/3|0,this.co[r]=n,o+=n;return this.co[7]=(3-o%3)%3,this}for(s=0,r=e=0;e<=6;r=++e)s=3*s+this.co[r];return s},flip:function(t){var r,i,e,n,o,s;if(null!=t){for(o=0,r=i=10;i>=0;r=--i)n=t%2,t=t/2|0,this.eo[r]=n,o+=n;return this.eo[11]=(2-o%2)%2,this}for(s=0,r=e=0;e<=10;r=++e)s=2*s+this.eo[r];return s},cornerParity:function(){var t,r,i,e,n,o,s,u,l;for(l=0,t=i=n=v,o=x+1;n<=o?i<=o:i>=o;t=n<=o?++i:--i)for(r=e=s=t-1,u=x;s<=u?e<=u:e>=u;r=s<=u?++e:--e)this.cp[r]>this.cp[t]&&l++;return l%2},edgeParity:function(){var t,r,e,n,o,s,u,l,h;for(h=0,t=e=o=i,s=P+1;o<=s?e<=s:e>=s;t=o<=s?++e:--e)for(r=n=u=t-1,l=P;u<=l?n<=l:n>=l;r=u<=l?++n:--n)this.ep[r]>this.ep[t]&&h++;return h%2},URFtoDLF:K("corners",x,a),URtoUL:K("edges",P,M),UBtoDF:K("edges",b,l),URtoDF:K("edges",P,l),FRtoBR:K("edges",R,i,!0)})X=U[A],n.prototype[A]=X;C=function(t,r,i){var e,o,s,u,l,h,f,a,p,v,c;for(e="corners"===t?"cornerMultiply":"edgeMultiply",o=new n,c=[],s=h=0,v=i-1;0<=v?h<=v:h>=v;s=0<=v?++h:--h){for(o[r](s),u=[],l=a=0;a<=5;l=++a){for(f=n.moves[l],p=0;p<=2;++p)o[e](f),u.push(o[r]());o[e](f)}c.push(u)}return c},Y=new n,Z=new n,G=function(t,r){var i,e;for(Y.URtoUL(t),Z.UBtoDF(r),i=e=0;e<=7;i=++e)if(-1!==Y.ep[i]){if(-1!==Z.ep[i])return-1;Z.ep[i]=Y.ep[i]}return Z.URtoDF()},D=495,g=24,n.moveTables={parity:[[1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]],twist:null,flip:null,FRtoBR:null,URFtoDLF:null,URtoDF:null,URtoUL:null,UBtoDF:null,mergeURtoDF:null},H={twist:["corners",2187],flip:["edges",2048],FRtoBR:["edges",11880],URFtoDLF:["corners",20160],URtoDF:["edges",20160],URtoUL:["edges",1320],UBtoDF:["edges",1320],mergeURtoDF:[]},n.computeMoveTables=function(...t){var r,i,e,n,o,s;for(0===t.length&&(t=function(){var t;for(e in t=[],H)t.push(e);return t}()),i=0,r=t.length;i<r;i++)s=t[i],null===this.moveTables[s]&&("mergeURtoDF"===s?this.moveTables.mergeURtoDF=function(){var t,r,i,e;for(e=[],r=i=0;i<=335;r=++i)e.push(function(){var i,e;for(e=[],t=i=0;i<=335;t=++i)e.push(G(r,t));return e}());return e}():([n,o]=H[s],this.moveTables[s]=C(n,s,o)));return this},j=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],I=function(){var t,r,i,e,n,o,s,u;for(u=[],r=i=0;i<=5;r=++i){for(e=[],t=n=0;n<=5;t=++n)if(t!==r&&t!==r-3)for(s=o=0;o<=2;s=++o)e.push(3*t+s);u.push(e)}return u}(),q=[0,1,2,4,7,9,10,11,13,16],J=function(){var t,r,i,e,n,o,s,u,l,h;for(h=[],r=e=0;e<=5;r=++e){for(n=[],t=o=0;o<=5;t=++o)if(t!==r&&t!==r-3)for(s=0,i=(l=0===t||3===t?[0,1,2]:[1]).length;s<i;s++)u=l[s],n.push(3*t+u);h.push(n)}return h}(),N=function(t,r,i){var e,n;return n=r>>3,e=r%8<<2,null!=i?(t[n]&=~(15<<e),t[n]|=i<<e,i):(t[n]&15<<e)>>>e},O=function(t,r,i,e){var n,o,s,u,l,h,f,a,p,v,c;for(c=function(){var t,i,e;for(e=[],t=0,i=Math.ceil(r/8)-1;0<=i?t<=i:t>=i;0<=i?++t:--t)e.push(4294967295);return e}(),f=1===t?j:q,N(c,0,o=0),s=1;s!==r;){for(u=h=0,v=r-1;0<=v?h<=v:h>=v;u=0<=v?++h:--h)if(N(c,u)===o)for(n=i(u),p=0,l=f.length;p<l;p++)a=e(n,f[p]),15===N(c,a)&&(N(c,a,o+1),s++);o++}return c},n.pruningTables={sliceTwist:null,sliceFlip:null,sliceURFtoDLFParity:null,sliceURtoDFParity:null},Q={sliceTwist:[1,1082565,function(t){return[t%D,t/D|0]},function(t,r){var i,e,o;return[e,o]=t,i=n.moveTables.FRtoBR[24*e][r]/24|0,n.moveTables.twist[o][r]*D+i}],sliceFlip:[1,1013760,function(t){return[t%D,t/D|0]},function(t,r){var i,e,o;return[o,i]=t,e=n.moveTables.FRtoBR[24*o][r]/24|0,n.moveTables.flip[i][r]*D+e}],sliceURFtoDLFParity:[2,967680,function(t){return[t%2,(t/2|0)%g,(t/2|0)/g|0]},function(t,r){var i,e,o,s,u;return[s,u,i]=t,e=n.moveTables.parity[s][r],o=n.moveTables.FRtoBR[u][r],2*(n.moveTables.URFtoDLF[i][r]*g+o)+e}],sliceURtoDFParity:[2,967680,function(t){return[t%2,(t/2|0)%g,(t/2|0)/g|0]},function(t,r){var i,e,o,s,u;return[s,u,i]=t,e=n.moveTables.parity[s][r],o=n.moveTables.FRtoBR[u][r],2*(n.moveTables.URtoDF[i][r]*g+o)+e}]},n.computePruningTables=function(...t){var r,i,e,n,o;for(0===t.length&&(t=function(){var t;for(e in t=[],Q)t.push(e);return t}()),i=0,r=t.length;i<r;i++)o=t[i],null===this.pruningTables[o]&&(n=Q[o],this.pruningTables[o]=O(...n));return this},n.initSolver=function(){return n.computeMoveTables(),n.computePruningTables()},n.prototype.solveUpright=function(t=22){var r,i,e,o,s,u,l,h,f;return e=function(){var t,r,i,e,n,o,s;for(r=["U","R","F","D","L","B"],o=["","2","'"],s=[],t=i=0;i<=5;t=++i)for(n=e=0;e<=2;n=++e)s.push(r[t]+o[n]);return s}(),r=class{constructor(t){this.parent=null,this.lastMove=null,this.depth=0,t&&this.init(t)}init(t){return this.flip=t.flip(),this.twist=t.twist(),this.slice=t.FRtoBR()/g|0,this.parity=t.cornerParity(),this.URFtoDLF=t.URFtoDLF(),this.FRtoBR=t.FRtoBR(),this.URtoUL=t.URtoUL(),this.UBtoDF=t.UBtoDF(),this}solution(){return this.parent?this.parent.solution()+e[this.lastMove]+" ":""}move(t,r,i){return n.moveTables[t][r][i]}pruning(t,r){return N(n.pruningTables[t],r)}moves1(){return null!==this.lastMove?I[this.lastMove/3|0]:j}minDist1(){var t,r;return t=this.pruning("sliceFlip",D*this.flip+this.slice),r=this.pruning("sliceTwist",D*this.twist+this.slice),E(t,r)}next1(t){var r;return(r=i.pop()).parent=this,r.lastMove=t,r.depth=this.depth+1,r.flip=this.move("flip",this.flip,t),r.twist=this.move("twist",this.twist,t),r.slice=this.move("FRtoBR",24*this.slice,t)/24|0,r}moves2(){return null!==this.lastMove?J[this.lastMove/3|0]:q}minDist2(){var t,r,i,e;return i=2*(g*this.URtoDF+this.FRtoBR)+this.parity,t=this.pruning("sliceURtoDFParity",i),e=2*(g*this.URFtoDLF+this.FRtoBR)+this.parity,r=this.pruning("sliceURFtoDLFParity",e),E(t,r)}init2(t=!0){if(null!==this.parent)return this.parent.init2(!1),this.URFtoDLF=this.move("URFtoDLF",this.parent.URFtoDLF,this.lastMove),this.FRtoBR=this.move("FRtoBR",this.parent.FRtoBR,this.lastMove),this.parity=this.move("parity",this.parent.parity,this.lastMove),this.URtoUL=this.move("URtoUL",this.parent.URtoUL,this.lastMove),this.UBtoDF=this.move("UBtoDF",this.parent.UBtoDF,this.lastMove),t?this.URtoDF=this.move("mergeURtoDF",this.URtoUL,this.UBtoDF):void 0}next2(t){var r;return(r=i.pop()).parent=this,r.lastMove=t,r.depth=this.depth+1,r.URFtoDLF=this.move("URFtoDLF",this.URFtoDLF,t),r.FRtoBR=this.move("FRtoBR",this.FRtoBR,t),r.parity=this.move("parity",this.parity,t),r.URtoDF=this.move("URtoDF",this.URtoDF,t),r}},h=null,s=function(r){var i,e,n,s;for(s=[],i=e=1,n=t;(1<=n?e<=n:e>=n)&&(o(r,i),null===h);i=1<=n?++e:--e)s.push(void 0);return s},o=function(t,r){var e,n,s,u,f,a,p;if(0===r){if(0===t.minDist1()&&(null===t.lastMove||(f=t.lastMove,$.call(q,f)<0)))return l(t)}else if(r>0&&t.minDist1()<=r){for(p=[],n=0,e=(a=t.moves1()).length;n<e&&(s=a[n],u=t.next1(s),o(u,r-1),i.push(u),null===h);n++)p.push(void 0);return p}},l=function(r){var i,e,n,o;for(r.init2(),o=[],i=e=1,n=t-r.depth;(1<=n?e<=n:e>=n)&&(u(r,i),null===h);i=1<=n?++e:--e)o.push(void 0);return o},u=function(t,r){var e,n,o,s,l,f;if(0===r){if(0===t.minDist2())return h=t.solution()}else if(r>0&&t.minDist2()<=r){for(f=[],n=0,e=(l=t.moves2()).length;n<e&&(o=l[n],s=t.next2(o),u(s,r-1),i.push(s),null===h);n++)f.push(void 0);return f}},s(f=(i=function(){var i,e,n;for(n=[],i=0,e=t+1;0<=e?i<=e:i>=e;0<=e?++i:--i)n.push(new r);return n}()).pop().init(this)),i.push(f),null==h?null:h.trim()},k={U:0,R:1,F:2,D:3,L:4,B:5},S={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B"},n.prototype.solve=function(t=22){var r,i,e,o,s,u,l,h,f;if(h=(r=this.clone()).upright(),r.move(h),u=(new n).move(h).center,null==(f=r.solveUpright(t)))return null;for(l=[],e=0,i=(s=f.split(" ")).length;e<i;e++)o=s[e],l.push(S[u[k[o[0]]]]),o.length>1&&(l[l.length-1]+=o[1]);return l.join(" ")},n.scramble=function(){return n.inverse(n.random().solve())}}).call(this);
//# sourceMappingURL=/sm/8da077d4b3446178befda84adfbfbbf3064fe7af62973bd0b66e2b96447b59b7.map